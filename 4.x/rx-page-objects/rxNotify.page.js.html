<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: rxNotify.page.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="jsdoc-custom.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: rxNotify.page.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';
var __extends = (this &amp;&amp; this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array &amp;&amp; function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this &amp;&amp; this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c &lt; 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" &amp;&amp; typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c &lt; 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 &amp;&amp; r &amp;&amp; Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
var protractor_1 = require("protractor");
var rxComponent_1 = require("./rxComponent");
/**
 * @description A lookup for translating types of notifications and their string representations
 * @type {Object}
 * @property {String} error - 'error': A red notification. Used typically for errors or exceptions.
 * @property {String} info - 'info': A blue notification. Used typically for loading actions.
 * @property {String} success - 'success': A green notification. Used typically after successful actions.
 * @property {String} warning - 'warning': An orange warning. Used typically to "sticky" an ever-present message.
 */
exports.NOTIFY_TYPES = {
    error: 'error',
    info: 'info',
    success: 'success',
    warning: 'warning',
};
/**
 * @description Functions for interacting with a single notification.
 * @see rxNotify
 */
var rxNotification = (function (_super) {
    __extends(rxNotification, _super);
    function rxNotification() {
        return _super !== null &amp;&amp; _super.apply(this, arguments) || this;
    }
    Object.defineProperty(rxNotification.prototype, "btnDismiss", {
        get: function () {
            return this.$('.notification-dismiss');
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @description The type of notification. See {@link rxNotify.types}.
     * @see rxNotify.types
     * @example
     * it('should have the right notification type', function () {
     *     var notificationType = encore.rxNotify.all.byText('Something bad happened').getType();
     *     expect(notificationType).to.eventually.equal('error');
     *     // or, you could write it this way
     *     expect(notificationType).to.eventually.equal(encore.rxNotify.types.error);
     * });
     */
    rxNotification.prototype.getType = function () {
        var notificationTypes = /error|info|success|warning/;
        return this.getAttribute('class').then(function (className) {
            return className.match(notificationTypes)[0];
        });
    };
    /**
     * @description The message text of the notification.
     * @example
     * it('should have the right notification text', function () {
     *     var notificationText = encore.rxNotify.all.byText('Something bad happened').getText();
     *     expect(notificationText).to.eventually.equal('Something bad happened: Contact joe@rackspace.com');
     * });
     */
    rxNotification.prototype.getText = function () {
        return this._originalElement.getText().then(function (text) {
            // Remove any lingering 'Ã— ' characters.
            return text.split('\n')[0].trim();
        });
    };
    /**
     * @description Dismisses the notification.
     * @example
     * it('should dismiss the notification', function () {
     *     var notification = encore.rxNotify.all.byText('Something bad happened');
     *     expect(encore.rxNotify.all.count()).to.eventually.equal(1);
     *     notification.dismiss();
     *     expect(encore.rxNotify.all.count()).to.eventually.equal(0);
     * });
     */
    rxNotification.prototype.dismiss = function () {
        var _this = this;
        return this.isDismissable().then(function (dismissable) {
            if (dismissable) {
                _this.btnDismiss.click();
            }
        });
    };
    rxNotification.prototype.hasSpinner = function () {
        return this.$('.rx-spinner').isPresent();
    };
    /**
     * @description Whether or not the notification includes an "x" on the far right side.
     * @example
     * it('should not let me close the warning on the page', function () {
     *     var notification = encore.rxNotify.byText('Warning: Outage in progress');
     *     expect(notification.type).to.eventually.equal(encore.rxNotify.types.warning);
     *     expect(notification.isDismissable()).to.eventually.be.false;
     * });
     */
    rxNotification.prototype.isDismissable = function () {
        return this.btnDismiss.isPresent();
    };
    return rxNotification;
}(rxComponent_1.rxComponentElement));
__decorate([
    rxComponent_1.OverrideWebdriver
], rxNotification.prototype, "getText", null);
exports.rxNotification = rxNotification;
/**
 * @description Functions for interacting with groups of notifications, or getting a single notification.
 */
var rxNotify = (function (_super) {
    __extends(rxNotify, _super);
    function rxNotify() {
        return _super !== null &amp;&amp; _super.apply(this, arguments) || this;
    }
    Object.defineProperty(rxNotify.prototype, "tblNotifications", {
        get: function () {
            return this.all(protractor_1.by.repeater('message in messages'));
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @description Returns a collection of functions used to interact with a group of notifications in a stack.
     * @see rxNotify.all
     * @example
     * it('should have some notifications in the top area', function () {
     *     expect(encore.rxNotify.byStack('banner').count()).to.eventually.be.above(0);
     *     expect(encore.rxNotify.all.count()).to.eventually.be.above(0);
     * });
     */
    rxNotify.byStack = function (stackName) {
        var rootElement = protractor_1.$(".rx-notifications[stack=\"" + stackName + "\"]");
        return new rxNotify(rootElement);
    };
    Object.defineProperty(rxNotify, "all", {
        /**
         * @description Returns a collection of functions used to interact with all notifications on the page.
         * @see rxNotify.byStack
         * @example
         * it('should have some notifications in the top area', function () {
         *     expect(encore.rxNotify.all.count()).to.eventually.be.above(0);
         *     expect(encore.rxNotify.byStack('banner').count()).to.eventually.be.above(0);
         * });
         */
        get: function () {
            var rootElement = protractor_1.$('html');
            return new rxNotify(rootElement);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @description The number of notifications present in the scope of the namespace. For instance,
     * calling this function on the object returned from {@link rxNotify.all} will inform you of the
     * number of notifications present *anywhere* on the page. Calling it on {@link rxNotify.byStack}
     * will return the count, but limited to the number of notifications in the stack selected.
     * @example
     * it('should have some notifications in the top area', function () {
     *     expect(encore.rxNotify.byStack('banner').count()).to.eventually.equal(1);
     *     expect(encore.rxNotify.all.count()).to.eventually.equal(2);
     * });
     */
    rxNotify.prototype.count = function () {
        return this.tblNotifications.count();
    };
    /**
     * @description The resulting notification object that matches the `notificationText`. This notification
     * is searched for using a partial text matching strategy. If more than one notification contains
     * `notificationText`, only the first will be returned.
     * @example
     * it('should have a success message that personally thanks the user', function () {
     *     var notification = encore.rxNotify.all.byText('Good job, ');
     *     expect(notification.getText()).to.eventually.equal('Good job, ' + browser.params.username + '!');
     * });
     */
    rxNotify.prototype.byText = function (notificationText) {
        var rootElement = this.element(protractor_1.by.cssContainingText('.rx-notification', notificationText));
        return new rxNotification(rootElement);
    };
    /**
     * @description Close all notifications in the current scope of notifications.
     * @example
     * it('should close some notifications', function () {
     *     expect(encore.rxNotify.all.count()).to.eventually.equal(2);
     *     encore.rxNotify.byStack('banner').dismiss();
     *     expect(encore.rxNotify.all.count()).to.eventually.equal(1);
     *     encore.rxNotify.all.dismiss();
     *     expect(encore.rxNotify.all.count()).to.eventually.equal(0);
     * });
     */
    rxNotify.prototype.dismiss = function () {
        return this.tblNotifications.filter(function (notificationElement) {
            return new rxNotification(notificationElement).isDismissable();
        }).then(function (notificationElements) {
            notificationElements.reverse().forEach(function (notificationElement) {
                return new rxNotification(notificationElement).dismiss();
            });
        });
    };
    /**
     * @description Whether or not the notification matching text `message` exists in the current
     * scope of notifications. If no `type` is specified, all notifications are searched. If a
     * `type` is specified, only those types of notifications will be searched. See {@link rxNotify.types}
     * to see the list of notification types supported.
     * @example
     * it('should have the notification present', function () {
     *     expect(encore.rxNotify.all.hasNotification('My message', 'error')).to.eventually.be.false;
     *     expect(encore.rxNotify.all.byText('My message').type).to.eventually.equal('info');
     *     expect(encore.rxNotify.all.hasNotification('My message')).to.eventually.be.true;
     *     expect(encore.rxNotify.all.hasNotification('My message', encore.rxNotify.types.info)).to.eventually.be.true;
     * });
     */
    rxNotify.prototype.hasNotification = function (message, type) {
        type = type ? '.notification-'.concat(type) : '[class^="notification-"]';
        return this.all(protractor_1.by.cssContainingText(type, message)).first().isPresent();
    };
    return rxNotify;
}(rxComponent_1.rxComponentElement));
__decorate([
    rxComponent_1.OverrideWebdriver
], rxNotify.prototype, "hasNotification", null);
exports.rxNotify = rxNotify;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="rxActionMenu.html">rxActionMenu</a></li><li><a href="rxAge.html">rxAge</a></li><li><a href="global.html#rxCharacterCount">rxCharacterCount</a></li><li><a href="global.html#rxCheckbox">rxCheckbox</a></li><li><a href="global.html#rxCollapse">rxCollapse</a></li><li><a href="global.html#rxCopy">rxCopy</a></li><li><a href="global.html#rxDatePicker">rxDatePicker</a></li><li><a href="global.html#rxFieldName">rxFieldName</a></li><li><a href="global.html#rxMetadata">rxMetadata</a></li><li><a href="rxMisc.html">rxMisc</a></li><li><a href="global.html#rxMultiSelect">rxMultiSelect</a></li><li><a href="global.html#rxPaginate">rxPaginate</a></li><li><a href="global.html#rxRadio">rxRadio</a></li><li><a href="global.html#rxSearchBox">rxSearchBox</a></li><li><a href="global.html#rxSelect">rxSelect</a></li><li><a href="rxSelectFilter.html">rxSelectFilter</a></li><li><a href="rxSortableColumn.html">rxSortableColumn</a></li><li><a href="rxStatusCell.html">rxStatusCell</a></li><li><a href="global.html#rxTags">rxTags</a></li><li><a href="rxTimePicker.html">rxTimePicker</a></li><li><a href="global.html#rxToggleSwitch">rxToggleSwitch</a></li><li><a href="Tab.html">Tab</a></li><li><a href="Tabs.html">Tabs</a></li><li><a href="Tag.html">Tag</a></li><li><a href="Tooltip.html">Tooltip</a></li></ul><h3>Namespaces</h3><ul><li><a href="rxDiskSize.html">rxDiskSize</a></li><li><a href="rxFeedback.html">rxFeedback</a></li><li><a href="rxLocalStorage.html">rxLocalStorage</a></li></ul><h3>Global</h3><ul><li><a href="global.html#get">get</a></li><li><a href="global.html#ICON_CLASS_STATUS">ICON_CLASS_STATUS</a></li><li><a href="global.html#NOTIFY_TYPES">NOTIFY_TYPES</a></li><li><a href="global.html#OverrideWebdriver">OverrideWebdriver</a></li><li><a href="global.html#parseUtcOffset">parseUtcOffset</a></li><li><a href="global.html#rxAction">rxAction</a></li><li><a href="global.html#rxBulkSelect">rxBulkSelect</a></li><li><a href="global.html#rxModalAction">rxModalAction</a></li><li><a href="global.html#rxNotification">rxNotification</a></li><li><a href="global.html#rxNotify">rxNotify</a></li><li><a href="global.html#rxSelectAccessor">rxSelectAccessor</a></li><li><a href="global.html#STATUS_COLORS">STATUS_COLORS</a></li><li><a href="global.html#STATUS_ICONS">STATUS_ICONS</a></li><li><a href="global.html#textFieldAccessor">textFieldAccessor</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Wed Mar 29 2017 18:22:48 GMT-0500 (CDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
